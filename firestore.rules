
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Regla predeterminada: Permite leer y escribir a cualquier usuario que haya iniciado sesión.
    // Esto es seguro para aplicaciones donde toda la lógica de negocio y permisos
    // se gestiona del lado del servidor (como con las Server Actions de Next.js)
    // o donde el acceso no autenticado no es una opción.
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
